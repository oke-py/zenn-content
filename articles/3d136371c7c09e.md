---
title: "Four Keysで読み解くODCの設計思想 – AI開発の土台としての再評価"
emoji: "⚙️"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["outsystems", "devops"]
published: true
---

[OutSystems Advent Calendar 2025](https://adventar.org/calendars/12138)、14日目の記事です。

## 1. はじめに

ODCに関する議論は、以前ほど活発ではなくなっています。一方で、AI活用が進む現在は、変更を前提とした開発が当たり前になりつつあります。このような状況では、開発基盤がどのような性質を持つかが、開発の速度と安定性に直接影響します。

本稿では、Four Keysを手がかりに、ODCの設計を整理します。ODCを日常的に利用しているOutSystems開発者や、開発基盤のあり方を見直したい方を主な想定読者としています。特定の移行手順や個別機能の解説ではなく、設計の前提となる考え方に焦点を当てます。

なお、本稿はODCの採用可否や移行判断を扱うものではありません。Four Keysの観点から、ODCの設計がどのような性質を持つかを整理することを目的としています。

## 2. Four Keysで開発基盤を評価する

Four Keysは、ソフトウェア開発のパフォーマンスを評価するための指標です。変更リードタイム、デプロイ頻度、変更失敗率、平均復旧時間の四つで構成されます。これらは、開発の速度と安定性を定量的に捉えるために用いられます。

Four Keysの特徴は、個別の数値を見るのではなく、全体の傾向を構造として捉える点にあります。デプロイ頻度を高めようとすると、変更リードタイムや失敗率にも影響が及びます。一つの指標だけを改善しても、他がボトルネックになれば全体のパフォーマンスは向上しません。

![Four KeysとODCの設計要素の関係](/images/four-keys-odc/four-keys-odc.drawio.png)
*図1 Four KeysとODCの設計要素の関係*

そのため、Four Keysはプロセスやツールの優劣を直接示すものではありません。開発基盤やアーキテクチャが、変更に対してどのような性質を持つかを確認するための視点です。基盤の設計が変われば、Four Keysの振る舞いも自然に変化します。

図1は、Four KeysとODCの設計要素の対応関係を示しています。ODCは、特定の指標だけを改善するための仕組みではありません。変更の粒度や影響範囲を制御しやすくすることで、四つの指標すべてに作用する構造を持っています。

以降の章では、Four Keysの各指標について、ODCの設計がどのように関係しているかを順に確認します。

## 3. 変更リードタイム

変更リードタイムは、変更が実装されてから利用可能になるまでの時間を指します。この指標は、開発基盤がどれだけ迅速に変更を受け入れられるかを示します。変更の内容そのものだけでなく、変更を取り巻く構造の影響を強く受けます。

変更の影響範囲が広い場合、確認や調整に時間がかかります。依存関係が複雑になるほど、リリース前の検証も重くなります。その結果、変更リードタイムは長くなりがちです。

![O11とODCにおける構造の違い](/images/four-keys-odc/o11-vs-odc-structure.drawio.png)
*図2 O11とODCにおける構造の違い*

ODCでは、アプリケーションが独立した単位として扱われます。変更は特定のアプリに閉じた形で行いやすくなります。この構造により、変更の粒度を小さく保つことができます。

また、コンテナを前提とした構成では、ビルドやデプロイの手順が定型化されます。環境差異による調整が減り、変更を届けるまでの流れが単純になります。結果として、変更リードタイムを短縮しやすくなります。

このように、変更リードタイムは個々の作業効率だけで決まるものではありません。開発基盤がどのような単位で変更を受け止めるかによって、大きく左右されます。ODCは、変更を小さく保ちやすい構造を通じて、変更リードタイムの改善に寄与します。

## 4. デプロイ頻度

デプロイ頻度は、変更をどれだけ繰り返し本番に反映できているかを示す指標です。この指標は、開発チームが試行錯誤をどの程度継続的に行えているかを反映します。頻度が低い場合、変更のコストや心理的負担が高いことを示唆します。

デプロイ頻度は、個々の自動化ツールだけで決まるものではありません。変更単位が大きい構造では、確認や調整に時間がかかります。結果として、デプロイの回数は抑えられがちになります。

ODCでは、アプリケーションを独立した単位として扱います。変更は特定のアプリに閉じた形で反映しやすくなります。この構造により、一度のデプロイに含まれる変更量を小さく保つことができます。

また、Feature Flagを併用することで、デプロイと機能提供を分離できます。コードを本番に反映した後でも、提供のタイミングを制御できます。これにより、デプロイに対する慎重さが過度に高まることを防げます。

このように、デプロイ頻度は作業量の多寡ではなく、構造によって左右されます。ODCは、変更を小さく分割し、繰り返し反映しやすい前提を提供します。その結果として、デプロイ頻度の向上につながります。

## 5. 変更失敗率

変更失敗率は、変更が障害や不具合につながる割合を示す指標です。この指標は、変更内容そのものの品質だけでなく、変更が及ぼす影響範囲にも強く依存します。失敗を完全に防ぐことよりも、失敗が起きやすい構造になっていないかを確認することが重要です。

変更単位が大きい場合、影響範囲も広くなります。一部の変更であっても、周辺機能や他のアプリケーションに波及しやすくなります。その結果、変更が障害として表面化する可能性が高まります。

ODCでは、アプリケーションが独立した単位として扱われます。変更は特定のアプリに閉じた形で行いやすくなります。この構造により、失敗が発生した場合でも影響範囲を限定しやすくなります。

また、実行環境がアプリ単位で分離されるため、依存関係の影響が他のアプリに波及しにくくなります。変更内容と実行環境の関係が明確になることで、想定外の挙動を減らせます。これらの要素が、変更失敗率の低減に寄与します。

このように、変更失敗率は個々の変更の慎重さだけで決まるものではありません。変更の影響をどの範囲に閉じ込められるかが重要になります。ODCは、その前提となる構造を提供します。

## 6. 平均復旧時間

平均復旧時間は、障害や不具合が発生してから復旧するまでに要する時間を示す指標です。この指標は、障害対応の巧拙だけでなく、復旧しやすい構造になっているかどうかを反映します。問題の特定や切り戻しに時間がかかる構造では、平均復旧時間は長くなります。

影響範囲が広い場合、復旧対象の切り分けが難しくなります。どこまで戻せばよいのかを判断するために、多くの確認が必要になります。その結果、復旧作業そのものに入るまでの時間が延びがちになります。

ODCでは、アプリケーションが独立した単位として扱われます。障害が発生した場合でも、対象となるアプリケーションを特定しやすくなります。この構造により、復旧作業の範囲を限定しやすくなります。

また、実行環境がアプリ単位で分離されているため、切り戻しの影響が他のアプリに及びにくくなります。復旧時の判断が単純になり、作業手順も明確になります。これらの要素が、平均復旧時間の短縮に寄与します。

このように、平均復旧時間は障害対応の努力だけで改善されるものではありません。復旧を前提とした構造を持っているかどうかが重要になります。ODCは、その前提を満たす開発基盤として位置づけられます。

## 7. AIエージェントとODC

AIエージェントの開発は、頻繁な変更と検証を前提とします。プロンプトや振る舞いの調整は一度で終わるものではなく、反復的に改善されます。このような開発では、変更の速さと安全性の両立が重要になります。

AIエージェントは、単一の機能として完結するとは限りません。外部サービスとの連携や、他の機能との協調動作が前提になります。そのため、疎結合な構造であることが、運用面での前提条件になります。

ODCは、アプリケーションを独立した単位として扱う構造を持っています。この構造は、AIエージェントの変更や挙動の調整を他の機能から切り離しやすくします。結果として、試行錯誤を継続しやすい環境を提供します。

また、AIエージェントの開発では、失敗を完全に避けることは現実的ではありません。挙動の誤りや想定外の結果が発生することを前提に設計する必要があります。Four Keysで整理した変更の速さと復旧性は、この前提と整合します。

このように、AIエージェントの開発は特別なものではありません。変更を小さく保ち、影響を限定し、素早く戻せる構造が求められます。ODCは、Four Keysの観点から見ても、この性質と適合する開発基盤です。

## 8. おわりに

本稿では、Four Keysを軸にODCの設計を整理してきました。ODCは特定の機能や移行手段としてではなく、変更を前提とした開発を支える基盤として設計されています。

Four Keysの四つの指標は、それぞれ独立したものではありません。変更の粒度や影響範囲といった構造的な要素が、速度と安定性の双方に作用します。ODCのアプリ単位で疎結合な構成は、これらの指標が同時に改善しやすい方向に働きます。

AI活用が進む現在では、変更頻度や試行回数がこれまで以上に増えていきます。その前提では、失敗を完全に避けることよりも、影響を限定し、素早く復旧できることが重要になります。ODCは、そのような開発を支える基盤の一つとして位置づけられます。

なお、本稿はODCの採用可否や移行判断を目的としたものではありません。Four Keysという観点を通じて、ODCの設計がどのような性質を持つかを整理することを意図しています。この視点が、開発基盤を議論する際の共通言語として役立てば幸いです。

## 参考資料

- State of DevOps Reports  
  https://dora.dev/publications/

- 『LeanとDevOpsの科学』  
  https://book.impress.co.jp/books/1118101029

- 質とスピード  
  https://speakerdeck.com/twada/quality-and-speed-aws-dev-day-2023-tokyo-edition